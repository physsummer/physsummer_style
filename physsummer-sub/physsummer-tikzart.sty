\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{physsummer-tikzart}

\tikzset{
	%% Кролик (см rayon/2017-08-3)
	tikzart-bunny/.pic = {
		\draw[thick] (0, 0) .. controls (-1.1, 0) and (-0.4, 0.2) .. (-0.3, 0.2)
			coordinate (BLegLeft)% нижняя лапка
			to[in = -70, out = 140] ++(130 : 0.5) coordinate (BArmBottom) % верхняя лапка
			.. controls ($(BArmBottom) + (-90 : 0.2)$) and
			($(BArmBottom) + (-0.25, 0.07) + (-90 : 0.2)$) .. ($(BArmBottom) + (-0.25, 0.07)$)
			.. controls ($(BArmBottom) + (-0.25, 0.07) + (90 : 0.1)$)
			and ($(BArmBottom) + (105 : 0.3) + (-170 : 0.1)$)
			.. ($(BArmBottom) + (105 : 0.3)$) coordinate (BArmTop)
			to[out = 110, in = -110 ] ++(80 : 0.15) coordinate (BHeadBottom)
			.. controls ($(BHeadBottom) + (-0.2, 0)$)
			and ($(BHeadBottom) + (70 : 0.5) + (-0.6, -0.1) $)
			.. ($(BHeadBottom) + (70 : 0.5)$) coordinate (BHeadTop)
			.. controls ($(BHeadTop) + (70:0.4)$)
			and ($(BHeadTop) + (25 : 0.8) + (-0.2, -.05)$)
			.. ($(BHeadTop) + (25 : 0.8)$) coordinate (BEarTop)
			to[out = -110, in = 20] ++(-140:0.5) coordinate (BEar)
			to[out = 10, in = 160]  ++(0:0.5)
			to[out = -130, in = -10] ++(-0.6, -0.25) coordinate (BEarBottom)
			to[out = -110, in = 80] ++(0, -0.15) coordinate (BBackTop)
			.. controls ($(BBackTop) + (0.3, 0)$)
			and ($(BBackTop) + (-45:0.9) + (100:0.3)$)
			.. ($(BBackTop) + (-45:0.9)$) coordinate (BTailTop)
			.. controls ($(BTailTop) + (20:0.4)$)
			and ($(BTailTop) + (-110:0.3) + (-30:0.5)$)
			.. ($(BTailTop) + (-110:0.3)$)
			to[out = -150, in = 30 ] ++(-150:0.1) coordinate (BLegRight)
			.. controls ($(BLegRight) + (-90:.1)$)
			and (0.25, 0) .. (0, 0);
		\draw[fill = black] (BHeadTop) ++(-120:0.2) circle (0.04);
		\draw (BLegLeft) to[out = 0, in = 170] ++(0.15, 0) .. controls
			($(BLegLeft) + (0.15, 0) + (170 : 0.1)$) and
			($(BLegLeft) + (0.15, 0) + (60:0.5) + (-0.5, 0.1)$)
			.. ($(BLegLeft) + (0.15, 0) + (60:0.5)$);
	},
	%% Вагон поезда (см. rayon/2010-09-3)
	% Размер картинки 0.4 * 0.24, привязка к левому нижнему углу
    % Зачем этот файл здесь?
    % А где ему ещё быть?
    % Казалось бы одноразовые картинки, но пусть будет здесь.
	tikzart-train/.pic = {
        \filldraw (0.05, 0.03) circle (0.03);
        \filldraw (0.13, 0.03) circle (0.03);
        \filldraw (0.35, 0.03) circle (0.03);
        \filldraw (0.27, 0.03) circle (0.03);
        
        \draw[rounded corners = 1pt, fill = black!15] (0, 0.04) rectangle  ++(0.4, 0.2);
        \draw[fill = white] (0.05, 0.13) rectangle ++(0.06, 0.07);
        \draw[fill = white] (0.17, 0.13) rectangle ++(0.06, 0.07);
        \draw[fill = white] (0.29, 0.13) rectangle ++(0.06, 0.07);
        
        \draw[ultra thin] (0.05, 0.09) -- ++(0.3, 0);
        \draw[ultra thin] (0.05, 0.1) -- ++(0.3, 0);
	},
	%% Первый вагон поезда (см. rayon/2010-09-3)
	% Размер картинки 0.5 * 0.24, привязка к левому нижнему углу
	tikzart-trainhead/.pic = {
        \filldraw (0.05, 0.03) circle (0.03);
        \filldraw (0.15, 0.03) circle (0.03);
        \filldraw (0.4, 0.03) circle (0.03);

        \draw[rounded corners = 1pt, fill = white] (0.1, 0.24) -- (0.3, 0.24) -- (0.5, 0.13) --
            ++(0, -0.04); 
        \draw[rounded corners = 1pt, fill = black!15] (0, 0.04) -- ++(0.5, 0) -- ++(0, 0.09) --
            ++(-0.05, 0.01) -- ++(-0.15, 0) -- ++(0, 0.1) -- ++(-0.3, 0) -- (0, 0.04);
        
        \draw[fill = white] (0.05, 0.13) rectangle ++(0.06, 0.07);
        \draw[fill = white] (0.17, 0.13) rectangle ++(0.06, 0.07);
        
        \draw[ultra thin] (0.05, 0.09) -- ++(0.37, 0);
        \draw[ultra thin] (0.05, 0.1) -- ++(0.37, 0);
	},
    % координаты нижнего угла дула (5, 1.1)
    tikzart-gun/.pic = {
        \coordinate (a) at (0.8, 1);
        \coordinate (b) at (1.05, 0.9);
        \coordinate (f) at (1.1, 1.22);
        \coordinate (p) at (0.95, 1.2);
        \path[name path = line_1] (a) -- (f);
        \path[name path = arc_1] (p) arc (170:210:0.2);
        \path[name path = arc_2] (p) arc (140:180:0.45);
        \path[name path = line_3] (a) -- (-0.4, 0.9) -- (-0.7, 0.2) -- (0.65, 0.65) -- (b)
            to[rounded corners = 3pt] (4, 1) -- (4, 1.1) -- (1.1, 1.1) to[rounded corners = 1pt] (f) --
            cycle;
        \path[name intersections = {of = line_1 and arc_1}];
        \coordinate (f1) at (intersection-1);
        \path[name intersections = {of = line_1 and arc_2}];
        \coordinate (f2) at (intersection-1);
        \draw[fill = black!70] (f2) to[bend left, rounded corners = 1pt] (p) to[bend right] (f1) --
            cycle;
        \shade[left color = black!15!white, right color = black!90!white, opacity = 0.9] (a) --
            (-0.4, 0.9) -- (-0.7, 0.2) -- (0.65, 0.65) -- (b) to[rounded corners = 3pt] (4, 1) --
            (4, 1.1) -- (1.1, 1.1) to[rounded corners = 1pt] (f) -- cycle;
        \shade[left color = black!40, right color = black!90, opacity = 0.6] (1.1, 1.16) -- (5, 1.16) --
            (5, 1.07) -- (4, 1.07) -- (4, 1.1) -- (1.1, 1.1) -- cycle;
        \coordinate (st) at ({-0.4 + 0.1}, 0.9);
        \coordinate (en) at ({-0.7 + 0.1}, 0.2);
        \path[name path = line_4] ($(st)!1.3!(en)$) -- ($(en)!1.3!(st)$);
        \path[name intersections = {of = line_3 and line_4}];
        \fill[brown] (-0.4, 0.9) -- (intersection-1) -- (intersection-2) -- (-0.7, 0.2) -- cycle;
        \draw (intersection-1) -- (intersection-2);
        \draw[thick] (a) -- (-0.4, 0.9) -- (-0.7, 0.2) -- (0.65, 0.65) -- (b) to[rounded corners = 3pt]
            (4, 1) -- (4, 1.1) -- (1.1, 1.1) to[rounded corners = 1pt] (f) -- cycle;
        \draw (1.1, 1.16) -- (5, 1.16) -- (5, 1.07) -- (4, 1.07) -- (4, 1.1) -- (1.1, 1.1) -- cycle;
        \path[name path = line_2] (0.65, 0.65) -- (b) -- (4, 1);
        \path[name path = arc_3] (0.9, 0.9) ellipse (0.42 and 0.2);
        \path[name intersections = {of = line_2 and arc_3}];
        \draw (intersection-2) to[bend left] (intersection-1);
        \coordinate (pn) at (1.07, 0.8);
        \path[name path = arc_4] (pn) arc (250:100:0.2);
        \path[name path = arc_5] (pn) arc (250:100:0.5);
        \path[name intersections = {of = line_2 and arc_4}];
        \coordinate (pn1) at (intersection-1);
        \path[name intersections = {of = line_2 and arc_5}];
        \coordinate (pn2) at (intersection-1);
        \draw[fill = black] (pn1) to[bend right] (pn) to[bend left] (pn2);
        \fill[black] (4.85, 1.16) -- (4.95, 1.16) to[rounded corners = 2pt] (4.94, 1.26) -- cycle;
        \fill[fill = white] (1.2, 1.11) rectangle (1.3, 1.24);
        \shade[left color = black!50, right color = black!90, opacity = 0.9] (1.2, 1.11)
            rectangle (1.3, 1.24);
        \draw (1.2, 1.11) rectangle (1.3, 1.24);
    },
    % нижняя левая точка (0, 0)
    tikzart-cat/.pic = {
        \filldraw [smooth] (0, 0) .. controls (1, 0) and (1, 0) .. (2, 1)
            .. controls (3, 2) and (4.8,8.8) .. (2,10.3)
    		.. controls (1.2, 11) and (2.8, 12) .. (2,13.8)
    		.. controls (.8, 15.4) and (-.8, 15.4) .. (-2,13.8)
    		.. controls (-2.8, 12) and (-1.2, 11) .. (-2,10.3)
    		.. controls (-4.8, 8.8) and (-3, 2) .. (-2, 1)
    		.. controls (-1, 0) and (-1, 0) .. (0, 0);
        \filldraw (0.6, 14.6) to[out = 45, in = 190] (1.9, 15.6) to[out = -95, in = 60] (1.6, 14);
        \filldraw (-0.6, 14.6) to[out = 135, in = -10] (-1.9, 15.6) to[out = -85, in = 120] (-1.6, 14);
        \filldraw[line width = 0.5] (0.8, 0.6) to[out = 0, in = 180] (7, 9)
            to[out = 0, in = 100] ++(3, -2) 
    		to[in = 0, out = -80] (7, 8)
    		to[out = 180, in = 0] (1, 0.1);

        % усы
        \foreach \a in {-10, 0, 10}{
            \fill[shift = {(0, 11.81)}, rotate = \a] (-3.5, 0.06) rectangle (3.5, -0.06);
        }
    }    
}


\endinput